# ğŸ”§ æ•…éšœæ’é™¤æŒ‡å—

## å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 1. è§†é¢‘è‡ªåŠ¨æ’­æ”¾é—®é¢˜ âœ… å·²ä¿®å¤

#### é—®é¢˜æè¿°
```
NotAllowedError: play() failed because the user didn't interact with the document first.
```

#### åŸå› 
ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Safariã€Firefox ç­‰ï¼‰ä¸ºäº†æ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œ**ç¦æ­¢æœªç»ç”¨æˆ·äº¤äº’çš„è‡ªåŠ¨æ’­æ”¾æœ‰å£°è§†é¢‘**ã€‚

#### è§£å†³æ–¹æ¡ˆ

æˆ‘ä»¬å·²ç»å®ç°äº†ä»¥ä¸‹ä¿®å¤ï¼š

1. **é»˜è®¤é™éŸ³æ’­æ”¾**
```typescript
<video muted playsInline loop />
```

2. **éŸ³é‡æ§åˆ¶æŒ‰é’®**
- å³ä¸Šè§’æ·»åŠ äº†éŸ³é‡å›¾æ ‡æŒ‰é’®
- ç‚¹å‡»å¯ä»¥åˆ‡æ¢é™éŸ³/æœ‰å£°
- ç”¨æˆ·ä¸»åŠ¨ç‚¹å‡»åï¼Œè§†é¢‘å¯ä»¥æœ‰å£°æ’­æ”¾

3. **æ™ºèƒ½é”™è¯¯å¤„ç†**
```typescript
video.play()
  .catch((error) => {
    if (error.name === 'NotAllowedError') {
      // é™éŸ³æ’­æ”¾ï¼Œä¸æ˜¾ç¤ºé”™è¯¯
      transitionTo('PAUSED');
    }
  });
```

#### ä½¿ç”¨è¯´æ˜

**é¦–æ¬¡è®¿é—®**ï¼š
- âœ… è§†é¢‘è‡ªåŠ¨é™éŸ³æ’­æ”¾
- ğŸ”‡ çœ‹åˆ°å³ä¸Šè§’é™éŸ³å›¾æ ‡

**å¼€å¯å£°éŸ³**ï¼š
- ğŸ‘† ç‚¹å‡»å³ä¸Šè§’éŸ³é‡æŒ‰é’®
- ğŸ”Š å›¾æ ‡å˜ä¸ºæœ‰å£°çŠ¶æ€
- ğŸµ äº«å—æœ‰å£°è§†é¢‘

---

### 2. è§†é¢‘ä¸€ç›´è½¬åœˆï¼ˆLoadingï¼‰âœ… å·²ä¿®å¤

#### é—®é¢˜æè¿°
è§†é¢‘æ­£å¸¸æ’­æ”¾æ—¶ï¼Œä»ç„¶æ˜¾ç¤ºåŠ è½½åŠ¨ç”»ï¼ˆè½¬åœˆï¼‰ã€‚

#### åŸå› 
çŠ¶æ€ç®¡ç†é€»è¾‘ä¸å®Œå–„ï¼Œ`BUFFERING` çŠ¶æ€æ²¡æœ‰æ­£ç¡®åˆ‡æ¢åˆ° `PLAYING`ã€‚

#### è§£å†³æ–¹æ¡ˆ

1. **æ·»åŠ  `canplaythrough` äº‹ä»¶ç›‘å¬**
```typescript
const handleCanPlayThrough = () => {
  if (state === 'BUFFERING' && isPlaying) {
    transitionTo('PLAYING');
  }
};
```

2. **ä¼˜åŒ– Loading æ˜¾ç¤ºæ¡ä»¶**
```typescript
{state === 'BUFFERING' && !isPlaying && (
  <Loader2 className="animate-spin" />
)}
```

3. **æ›´ç²¾ç¡®çš„çŠ¶æ€è½¬æ¢**
- `IDLE` â†’ `BUFFERING` â†’ `PLAYING`
- åªåœ¨çœŸæ­£ç¼“å†²æ—¶æ˜¾ç¤º Loading
- æ’­æ”¾åç«‹å³éšè— Loading

---

### 3. React Hooks é¡ºåºé”™è¯¯ âœ… å·²ä¿®å¤

#### é—®é¢˜æè¿°
```
React has detected a change in the order of Hooks called by VideoFeed.
```

#### åŸå› 
åœ¨ Hooks ä¹‹å‰ä½¿ç”¨äº†æ¡ä»¶æ€§è¿”å›ï¼Œè¿åäº† React Hooks è§„åˆ™ã€‚

#### è§£å†³æ–¹æ¡ˆ
å°†æ‰€æœ‰ Hooks ç§»åˆ°æ¡ä»¶è¿”å›ä¹‹å‰ï¼š

```typescript
// âœ… æ­£ç¡®
const [state] = useState();
useEffect(() => {});

if (loading) return <Skeleton />;
return <Content />;
```

---

### 4. Next.js å›¾ç‰‡é…ç½®é”™è¯¯ âœ… å·²ä¿®å¤

#### é—®é¢˜æè¿°
```
Invalid src prop on `next/image`, hostname is not configured
```

#### è§£å†³æ–¹æ¡ˆ
åœ¨ `next.config.ts` ä¸­é…ç½®è¿œç¨‹å›¾ç‰‡åŸŸåï¼š

```typescript
images: {
  remotePatterns: [
    { hostname: 'api.dicebear.com' },
    { hostname: 'images.unsplash.com' },
    { hostname: 'commondatastorage.googleapis.com' },
  ],
  dangerouslyAllowSVG: true,
  contentSecurityPolicy: "default-src 'self'; script-src 'none'; sandbox;",
}
```

---

### 5. è§†é¢‘åŠ è½½æ…¢

#### å¯èƒ½åŸå› 
- ç½‘ç»œè¿æ¥ä¸ç¨³å®š
- è§†é¢‘æ–‡ä»¶è¿‡å¤§
- æœåŠ¡å™¨å“åº”æ…¢

#### è§£å†³æ–¹æ¡ˆ

**çŸ­æœŸæ–¹æ¡ˆ**ï¼š
1. ä½¿ç”¨æ›´å¿«çš„ç½‘ç»œ
2. åˆ·æ–°é¡µé¢é‡è¯•
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

**é•¿æœŸä¼˜åŒ–**ï¼š
1. ä½¿ç”¨ CDN åŠ é€Ÿ
2. è§†é¢‘è½¬ç å‹ç¼©
3. è‡ªé€‚åº”ç ç‡
4. é¢„åŠ è½½ä¼˜åŒ–

```typescript
// å·²å®ç°çš„é¢„åŠ è½½ç­–ç•¥
const shouldPreload = Math.abs(index - currentIndex) <= 2;
```

---

### 6. æ»šåŠ¨ä¸æµç•…

#### å¯èƒ½åŸå› 
- CPU å ç”¨è¿‡é«˜
- å†…å­˜ä¸è¶³
- æµè§ˆå™¨æ ‡ç­¾é¡µè¿‡å¤š

#### è§£å†³æ–¹æ¡ˆ

**ç«‹å³æ“ä½œ**ï¼š
1. å…³é—­å…¶ä»–æ ‡ç­¾é¡µ
2. é‡å¯æµè§ˆå™¨
3. ä½¿ç”¨æ€§èƒ½æ¨¡å¼

**ä»£ç ä¼˜åŒ–**ï¼ˆå·²å®ç°ï¼‰ï¼š
```typescript
// requestAnimationFrame èŠ‚æµ
rafId = requestAnimationFrame(() => {
  if (Math.abs(scrollTop - lastScrollTop) > 50) {
    setCurrentIndex(index);
  }
});
```

---

### 7. åŒå‡»ç‚¹èµæ²¡ååº”

#### å¯èƒ½åŸå› 
- ç‚¹å‡»ä½ç½®ä¸å¯¹
- åŒå‡»é€Ÿåº¦å¤ªæ…¢/å¤ªå¿«

#### è§£å†³æ–¹æ¡ˆ
- ç‚¹å‡»è§†é¢‘ä¸­å¿ƒåŒºåŸŸï¼ˆä¸æ˜¯å³ä¾§å·¥å…·æ ï¼‰
- å¿«é€ŸåŒå‡»ï¼ˆé—´éš” < 300msï¼‰
- ç¡®ä¿ä¸æ˜¯åœ¨æ»šåŠ¨æ—¶åŒå‡»

---

### 8. è¯„è®ºæŠ½å±‰æ— æ³•æ‰“å¼€

#### æ£€æŸ¥é¡¹
- âœ… ç‚¹å‡»å³ä¾§è¯„è®ºå›¾æ ‡ï¼ˆä¸æ˜¯åŒå‡»ï¼‰
- âœ… ç­‰å¾…è§†é¢‘åŠ è½½å®Œæˆ
- âœ… æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

---

## æµè§ˆå™¨å…¼å®¹æ€§

### å®Œå…¨æ”¯æŒ âœ…
- Chrome 120+
- Edge 120+
- Safari 17+
- Firefox 120+

### éƒ¨åˆ†æ”¯æŒ âš ï¸
- Chrome 100-119ï¼ˆéƒ¨åˆ†åŠŸèƒ½å¯èƒ½å—é™ï¼‰
- Safari 15-16ï¼ˆè‡ªåŠ¨æ’­æ”¾å¯èƒ½å—é™ï¼‰

### ä¸æ”¯æŒ âŒ
- IE 11 åŠä»¥ä¸‹
- Chrome < 90

---

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### è®¾å¤‡è¦æ±‚
- **CPU**: åŒæ ¸ 2.0GHz+
- **å†…å­˜**: 4GB+
- **ç½‘ç»œ**: 5Mbps+

### æµè§ˆå™¨è®¾ç½®
1. å¯ç”¨ç¡¬ä»¶åŠ é€Ÿ
2. æ¸…é™¤ç¼“å­˜å’Œ Cookie
3. ç¦ç”¨ä¸å¿…è¦çš„æ‰©å±•

### å¼€å‘è€…å·¥å…·
```bash
# æ€§èƒ½åˆ†æ
Chrome DevTools > Performance

# å†…å­˜åˆ†æ
Chrome DevTools > Memory

# ç½‘ç»œåˆ†æ
Chrome DevTools > Network
```

---

## è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—
```javascript
// æŒ‰ F12 æ‰“å¼€ DevTools
// åˆ‡æ¢åˆ° Console æ ‡ç­¾
// æŸ¥çœ‹é”™è¯¯å’Œè­¦å‘Šä¿¡æ¯
```

### 2. æ£€æŸ¥ç½‘ç»œè¯·æ±‚
```javascript
// DevTools > Network
// ç­›é€‰ Media ç±»å‹
// æŸ¥çœ‹è§†é¢‘åŠ è½½çŠ¶æ€
```

### 3. æ€§èƒ½ç›‘æ§
```javascript
// DevTools > Performance
// ç‚¹å‡»å½•åˆ¶æŒ‰é’®
// æ»‘åŠ¨å‡ ä¸ªè§†é¢‘
// åœæ­¢å½•åˆ¶æŸ¥çœ‹æŠ¥å‘Š
```

---

## è·å–å¸®åŠ©

### æ–‡æ¡£èµ„æº
- [README.md](./README.md) - é¡¹ç›®è¯´æ˜
- [PERFORMANCE.md](./PERFORMANCE.md) - æ€§èƒ½ä¼˜åŒ–
- [QUICKSTART.md](./QUICKSTART.md) - å¿«é€Ÿå¼€å§‹

### åœ¨çº¿èµ„æº
- [Next.js æ–‡æ¡£](https://nextjs.org/docs)
- [React æ–‡æ¡£](https://react.dev)
- [Framer Motion æ–‡æ¡£](https://www.framer.com/motion/)

### ç¤¾åŒºæ”¯æŒ
- GitHub Issues
- Stack Overflow
- Discord ç¤¾åŒº

---

## æ›´æ–°æ—¥å¿—

### v2.1.0 (å½“å‰ç‰ˆæœ¬)
- âœ… ä¿®å¤è‡ªåŠ¨æ’­æ”¾é—®é¢˜ï¼ˆé»˜è®¤é™éŸ³ï¼‰
- âœ… æ·»åŠ éŸ³é‡æ§åˆ¶æŒ‰é’®
- âœ… ä¿®å¤ Loading è½¬åœˆé—®é¢˜
- âœ… ä¼˜åŒ–è§†é¢‘çŠ¶æ€ç®¡ç†
- âœ… æ”¹è¿›é”™è¯¯å¤„ç†

### v2.0.0
- âœ… 12 ä¸ªæ¼”ç¤ºè§†é¢‘
- âœ… æ€§èƒ½å¤§å¹…ä¼˜åŒ–
- âœ… è§†è§‰æ•ˆæœå¢å¼º

### v1.0.0
- âœ… åŸºç¡€åŠŸèƒ½å®ç°

---

**æœ€åæ›´æ–°**: 2026-01-16  
**ç»´æŠ¤è€…**: Cursor AI Team
